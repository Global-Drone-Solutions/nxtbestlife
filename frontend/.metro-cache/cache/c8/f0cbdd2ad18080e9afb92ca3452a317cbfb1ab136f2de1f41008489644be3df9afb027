{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../lib/supabaseClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":71,"index":160}}],"key":"dTfEBkCfNr36iGOmi29Lo0LUD+k=","exportNames":["*"],"imports":1}},{"name":"../lib/seedDemo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":161},"end":{"line":4,"column":47,"index":208}}],"key":"96YarIp/wk5xKEG3wNkqvsEv8hQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _libSupabaseClient = require(_dependencyMap[1], \"../lib/supabaseClient\");\n  var _libSeedDemo = require(_dependencyMap[2], \"../lib/seedDemo\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    session: null,\n    isLoading: false,\n    error: null,\n    setUser: user => set({\n      user\n    }),\n    setSession: session => set({\n      session,\n      user: session?.user || null\n    }),\n    setError: error => set({\n      error\n    }),\n    demoLogin: async () => {\n      set({\n        isLoading: true,\n        error: null\n      });\n      const supabase = (0, _libSupabaseClient.getSupabase)();\n      if (!supabase) {\n        set({\n          isLoading: false,\n          error: 'Supabase not configured'\n        });\n        return false;\n      }\n      const config = (0, _libSupabaseClient.getSupabaseConfig)();\n      if (!config.hasDemoCredentials) {\n        set({\n          isLoading: false,\n          error: 'Demo credentials not configured. Please set EXPO_PUBLIC_DEMO_EMAIL and EXPO_PUBLIC_DEMO_PASSWORD.'\n        });\n        return false;\n      }\n      try {\n        const {\n          data,\n          error\n        } = await supabase.auth.signInWithPassword({\n          email: config.demoEmail,\n          password: config.demoPassword\n        });\n        if (error) {\n          set({\n            isLoading: false,\n            error: `Login failed: ${error.message}. Please check your demo credentials.`\n          });\n          return false;\n        }\n        if (data.user) {\n          // Seed demo data\n          await (0, _libSeedDemo.seedDemoData)(data.user.id);\n          set({\n            user: data.user,\n            session: data.session,\n            isLoading: false\n          });\n          return true;\n        }\n        set({\n          isLoading: false,\n          error: 'No user returned from login'\n        });\n        return false;\n      } catch (err) {\n        set({\n          isLoading: false,\n          error: `Unexpected error: ${err.message}`\n        });\n        return false;\n      }\n    },\n    signOut: async () => {\n      const supabase = (0, _libSupabaseClient.getSupabase)();\n      if (supabase) {\n        await supabase.auth.signOut();\n      }\n      set({\n        user: null,\n        session: null\n      });\n    },\n    checkSession: async () => {\n      const supabase = (0, _libSupabaseClient.getSupabase)();\n      if (!supabase) return;\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await supabase.auth.getSession();\n        if (session) {\n          set({\n            session,\n            user: session.user\n          });\n        }\n      } catch (err) {\n        console.log('Error checking session:', err);\n      }\n    }\n  }));\n});","lineCount":120,"map":[[7,2,19,0,"Object"],[7,8,19,0],[7,9,19,0,"defineProperty"],[7,23,19,0],[7,24,19,0,"exports"],[7,31,19,0],[8,4,19,0,"enumerable"],[8,14,19,0],[9,4,19,0,"get"],[9,7,19,0],[9,18,19,0,"get"],[9,19,19,0],[10,6,19,0],[10,13,19,0,"useAuthStore"],[10,25,19,0],[11,4,19,0],[12,2,19,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,3,0],[14,6,3,0,"_libSupabaseClient"],[14,24,3,0],[14,27,3,0,"require"],[14,34,3,0],[14,35,3,0,"_dependencyMap"],[14,49,3,0],[15,2,4,0],[15,6,4,0,"_libSeedDemo"],[15,18,4,0],[15,21,4,0,"require"],[15,28,4,0],[15,29,4,0,"_dependencyMap"],[15,43,4,0],[16,2,19,7],[16,8,19,13,"useAuthStore"],[16,20,19,25],[16,23,19,28],[16,27,19,28,"create"],[16,35,19,34],[16,36,19,34,"create"],[16,42,19,34],[16,44,19,46],[16,45,19,47,"set"],[16,48,19,50],[16,50,19,52,"get"],[16,53,19,55],[16,59,19,61],[17,4,20,2,"user"],[17,8,20,6],[17,10,20,8],[17,14,20,12],[18,4,21,2,"session"],[18,11,21,9],[18,13,21,11],[18,17,21,15],[19,4,22,2,"isLoading"],[19,13,22,11],[19,15,22,13],[19,20,22,18],[20,4,23,2,"error"],[20,9,23,7],[20,11,23,9],[20,15,23,13],[21,4,25,2,"setUser"],[21,11,25,9],[21,13,25,12,"user"],[21,17,25,16],[21,21,25,21,"set"],[21,24,25,24],[21,25,25,25],[22,6,25,27,"user"],[23,4,25,32],[23,5,25,33],[23,6,25,34],[24,4,26,2,"setSession"],[24,14,26,12],[24,16,26,15,"session"],[24,23,26,22],[24,27,26,27,"set"],[24,30,26,30],[24,31,26,31],[25,6,26,33,"session"],[25,13,26,40],[26,6,26,42,"user"],[26,10,26,46],[26,12,26,48,"session"],[26,19,26,55],[26,21,26,57,"user"],[26,25,26,61],[26,29,26,65],[27,4,26,70],[27,5,26,71],[27,6,26,72],[28,4,27,2,"setError"],[28,12,27,10],[28,14,27,13,"error"],[28,19,27,18],[28,23,27,23,"set"],[28,26,27,26],[28,27,27,27],[29,6,27,29,"error"],[30,4,27,35],[30,5,27,36],[30,6,27,37],[31,4,29,2,"demoLogin"],[31,13,29,11],[31,15,29,13],[31,21,29,13,"demoLogin"],[31,22,29,13],[31,27,29,25],[32,6,30,4,"set"],[32,9,30,7],[32,10,30,8],[33,8,30,10,"isLoading"],[33,17,30,19],[33,19,30,21],[33,23,30,25],[34,8,30,27,"error"],[34,13,30,32],[34,15,30,34],[35,6,30,39],[35,7,30,40],[35,8,30,41],[36,6,32,4],[36,12,32,10,"supabase"],[36,20,32,18],[36,23,32,21],[36,27,32,21,"getSupabase"],[36,45,32,32],[36,46,32,32,"getSupabase"],[36,57,32,32],[36,59,32,33],[36,60,32,34],[37,6,33,4],[37,10,33,8],[37,11,33,9,"supabase"],[37,19,33,17],[37,21,33,19],[38,8,34,6,"set"],[38,11,34,9],[38,12,34,10],[39,10,34,12,"isLoading"],[39,19,34,21],[39,21,34,23],[39,26,34,28],[40,10,34,30,"error"],[40,15,34,35],[40,17,34,37],[41,8,34,63],[41,9,34,64],[41,10,34,65],[42,8,35,6],[42,15,35,13],[42,20,35,18],[43,6,36,4],[44,6,38,4],[44,12,38,10,"config"],[44,18,38,16],[44,21,38,19],[44,25,38,19,"getSupabaseConfig"],[44,43,38,36],[44,44,38,36,"getSupabaseConfig"],[44,61,38,36],[44,63,38,37],[44,64,38,38],[45,6,39,4],[45,10,39,8],[45,11,39,9,"config"],[45,17,39,15],[45,18,39,16,"hasDemoCredentials"],[45,36,39,34],[45,38,39,36],[46,8,40,6,"set"],[46,11,40,9],[46,12,40,10],[47,10,40,12,"isLoading"],[47,19,40,21],[47,21,40,23],[47,26,40,28],[48,10,40,30,"error"],[48,15,40,35],[48,17,40,37],[49,8,40,137],[49,9,40,138],[49,10,40,139],[50,8,41,6],[50,15,41,13],[50,20,41,18],[51,6,42,4],[52,6,44,4],[52,10,44,8],[53,8,45,6],[53,14,45,12],[54,10,45,14,"data"],[54,14,45,18],[55,10,45,20,"error"],[56,8,45,26],[56,9,45,27],[56,12,45,30],[56,18,45,36,"supabase"],[56,26,45,44],[56,27,45,45,"auth"],[56,31,45,49],[56,32,45,50,"signInWithPassword"],[56,50,45,68],[56,51,45,69],[57,10,46,8,"email"],[57,15,46,13],[57,17,46,15,"config"],[57,23,46,21],[57,24,46,22,"demoEmail"],[57,33,46,31],[58,10,47,8,"password"],[58,18,47,16],[58,20,47,18,"config"],[58,26,47,24],[58,27,47,25,"demoPassword"],[59,8,48,6],[59,9,48,7],[59,10,48,8],[60,8,50,6],[60,12,50,10,"error"],[60,17,50,15],[60,19,50,17],[61,10,51,8,"set"],[61,13,51,11],[61,14,51,12],[62,12,51,14,"isLoading"],[62,21,51,23],[62,23,51,25],[62,28,51,30],[63,12,51,32,"error"],[63,17,51,37],[63,19,51,39],[63,36,51,56,"error"],[63,41,51,61],[63,42,51,62,"message"],[63,49,51,69],[64,10,51,109],[64,11,51,110],[64,12,51,111],[65,10,52,8],[65,17,52,15],[65,22,52,20],[66,8,53,6],[67,8,55,6],[67,12,55,10,"data"],[67,16,55,14],[67,17,55,15,"user"],[67,21,55,19],[67,23,55,21],[68,10,56,8],[69,10,57,8],[69,16,57,14],[69,20,57,14,"seedDemoData"],[69,32,57,26],[69,33,57,26,"seedDemoData"],[69,45,57,26],[69,47,57,27,"data"],[69,51,57,31],[69,52,57,32,"user"],[69,56,57,36],[69,57,57,37,"id"],[69,59,57,39],[69,60,57,40],[70,10,58,8,"set"],[70,13,58,11],[70,14,58,12],[71,12,58,14,"user"],[71,16,58,18],[71,18,58,20,"data"],[71,22,58,24],[71,23,58,25,"user"],[71,27,58,29],[72,12,58,31,"session"],[72,19,58,38],[72,21,58,40,"data"],[72,25,58,44],[72,26,58,45,"session"],[72,33,58,52],[73,12,58,54,"isLoading"],[73,21,58,63],[73,23,58,65],[74,10,58,71],[74,11,58,72],[74,12,58,73],[75,10,59,8],[75,17,59,15],[75,21,59,19],[76,8,60,6],[77,8,62,6,"set"],[77,11,62,9],[77,12,62,10],[78,10,62,12,"isLoading"],[78,19,62,21],[78,21,62,23],[78,26,62,28],[79,10,62,30,"error"],[79,15,62,35],[79,17,62,37],[80,8,62,67],[80,9,62,68],[80,10,62,69],[81,8,63,6],[81,15,63,13],[81,20,63,18],[82,6,64,4],[82,7,64,5],[82,8,64,6],[82,15,64,13,"err"],[82,18,64,21],[82,20,64,23],[83,8,65,6,"set"],[83,11,65,9],[83,12,65,10],[84,10,65,12,"isLoading"],[84,19,65,21],[84,21,65,23],[84,26,65,28],[85,10,65,30,"error"],[85,15,65,35],[85,17,65,37],[85,38,65,58,"err"],[85,41,65,61],[85,42,65,62,"message"],[85,49,65,69],[86,8,65,72],[86,9,65,73],[86,10,65,74],[87,8,66,6],[87,15,66,13],[87,20,66,18],[88,6,67,4],[89,4,68,2],[89,5,68,3],[90,4,70,2,"signOut"],[90,11,70,9],[90,13,70,11],[90,19,70,11,"signOut"],[90,20,70,11],[90,25,70,23],[91,6,71,4],[91,12,71,10,"supabase"],[91,20,71,18],[91,23,71,21],[91,27,71,21,"getSupabase"],[91,45,71,32],[91,46,71,32,"getSupabase"],[91,57,71,32],[91,59,71,33],[91,60,71,34],[92,6,72,4],[92,10,72,8,"supabase"],[92,18,72,16],[92,20,72,18],[93,8,73,6],[93,14,73,12,"supabase"],[93,22,73,20],[93,23,73,21,"auth"],[93,27,73,25],[93,28,73,26,"signOut"],[93,35,73,33],[93,36,73,34],[93,37,73,35],[94,6,74,4],[95,6,75,4,"set"],[95,9,75,7],[95,10,75,8],[96,8,75,10,"user"],[96,12,75,14],[96,14,75,16],[96,18,75,20],[97,8,75,22,"session"],[97,15,75,29],[97,17,75,31],[98,6,75,36],[98,7,75,37],[98,8,75,38],[99,4,76,2],[99,5,76,3],[100,4,78,2,"checkSession"],[100,16,78,14],[100,18,78,16],[100,24,78,16,"checkSession"],[100,25,78,16],[100,30,78,28],[101,6,79,4],[101,12,79,10,"supabase"],[101,20,79,18],[101,23,79,21],[101,27,79,21,"getSupabase"],[101,45,79,32],[101,46,79,32,"getSupabase"],[101,57,79,32],[101,59,79,33],[101,60,79,34],[102,6,80,4],[102,10,80,8],[102,11,80,9,"supabase"],[102,19,80,17],[102,21,80,19],[103,6,82,4],[103,10,82,8],[104,8,83,6],[104,14,83,12],[105,10,83,14,"data"],[105,14,83,18],[105,16,83,20],[106,12,83,22,"session"],[107,10,83,30],[108,8,83,32],[108,9,83,33],[108,12,83,36],[108,18,83,42,"supabase"],[108,26,83,50],[108,27,83,51,"auth"],[108,31,83,55],[108,32,83,56,"getSession"],[108,42,83,66],[108,43,83,67],[108,44,83,68],[109,8,84,6],[109,12,84,10,"session"],[109,19,84,17],[109,21,84,19],[110,10,85,8,"set"],[110,13,85,11],[110,14,85,12],[111,12,85,14,"session"],[111,19,85,21],[112,12,85,23,"user"],[112,16,85,27],[112,18,85,29,"session"],[112,25,85,36],[112,26,85,37,"user"],[113,10,85,42],[113,11,85,43],[113,12,85,44],[114,8,86,6],[115,6,87,4],[115,7,87,5],[115,8,87,6],[115,15,87,13,"err"],[115,18,87,16],[115,20,87,18],[116,8,88,6,"console"],[116,15,88,13],[116,16,88,14,"log"],[116,19,88,17],[116,20,88,18],[116,45,88,43],[116,47,88,45,"err"],[116,50,88,48],[116,51,88,49],[117,6,89,4],[118,4,90,2],[119,2,91,0],[119,3,91,1],[119,4,91,2],[119,5,91,3],[120,0,91,4],[120,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setSession","setError","demoLogin","signOut","checkSession"],"mappings":"AAA;8CCkB;WCM,uBD;cEC,0DF;YGC,yBH;aIE;GJuC;WKE;GLM;gBME;GNY;EDC"},"hasCjsExports":false},"type":"js/module"}]}