{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../lib/supabaseClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":71,"index":160}}],"key":"dTfEBkCfNr36iGOmi29Lo0LUD+k=","exportNames":["*"],"imports":1}},{"name":"../lib/seedDemo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":161},"end":{"line":4,"column":47,"index":208}}],"key":"96YarIp/wk5xKEG3wNkqvsEv8hQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _libSupabaseClient = require(_dependencyMap[1], \"../lib/supabaseClient\");\n  var _libSeedDemo = require(_dependencyMap[2], \"../lib/seedDemo\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    session: null,\n    isLoading: false,\n    error: null,\n    setUser: user => set({\n      user\n    }),\n    setSession: session => set({\n      session,\n      user: session?.user || null\n    }),\n    setError: error => set({\n      error\n    }),\n    demoLogin: async () => {\n      set({\n        isLoading: true,\n        error: null\n      });\n      const supabase = (0, _libSupabaseClient.getSupabase)();\n      if (!supabase) {\n        set({\n          isLoading: false,\n          error: 'Supabase not configured'\n        });\n        return false;\n      }\n      const config = (0, _libSupabaseClient.getSupabaseConfig)();\n      if (!config.hasDemoCredentials) {\n        set({\n          isLoading: false,\n          error: 'Demo credentials not configured. Please set EXPO_PUBLIC_DEMO_EMAIL and EXPO_PUBLIC_DEMO_PASSWORD.'\n        });\n        return false;\n      }\n      try {\n        console.log('[Auth] Attempting signInWithPassword with email:', config.demoEmail);\n        const {\n          data,\n          error\n        } = await supabase.auth.signInWithPassword({\n          email: config.demoEmail,\n          password: config.demoPassword\n        });\n        if (error) {\n          // Log detailed error info (without password)\n          console.log('[Auth] signInWithPassword ERROR:');\n          console.log('[Auth]   code:', error.code);\n          console.log('[Auth]   name:', error.name);\n          console.log('[Auth]   message:', error.message);\n          console.log('[Auth]   status:', error.status);\n          const errorMsg = `[${error.code || error.name || 'ERROR'}] ${error.message}`;\n          set({\n            isLoading: false,\n            error: errorMsg\n          });\n          return false;\n        }\n        console.log('[Auth] signInWithPassword SUCCESS, user:', data.user?.email);\n        if (data.user) {\n          // Seed demo data\n          await (0, _libSeedDemo.seedDemoData)(data.user.id);\n          set({\n            user: data.user,\n            session: data.session,\n            isLoading: false\n          });\n          return true;\n        }\n        set({\n          isLoading: false,\n          error: 'No user returned from login'\n        });\n        return false;\n      } catch (err) {\n        console.log('[Auth] signInWithPassword EXCEPTION:', err);\n        set({\n          isLoading: false,\n          error: `Unexpected error: ${err.message}`\n        });\n        return false;\n      }\n    },\n    signOut: async () => {\n      const supabase = (0, _libSupabaseClient.getSupabase)();\n      if (supabase) {\n        await supabase.auth.signOut();\n      }\n      set({\n        user: null,\n        session: null\n      });\n    },\n    checkSession: async () => {\n      const supabase = (0, _libSupabaseClient.getSupabase)();\n      if (!supabase) return;\n      try {\n        const {\n          data: {\n            session\n          }\n        } = await supabase.auth.getSession();\n        if (session) {\n          set({\n            session,\n            user: session.user\n          });\n        }\n      } catch (err) {\n        console.log('Error checking session:', err);\n      }\n    }\n  }));\n});","lineCount":130,"map":[[7,2,19,0,"Object"],[7,8,19,0],[7,9,19,0,"defineProperty"],[7,23,19,0],[7,24,19,0,"exports"],[7,31,19,0],[8,4,19,0,"enumerable"],[8,14,19,0],[9,4,19,0,"get"],[9,7,19,0],[9,18,19,0,"get"],[9,19,19,0],[10,6,19,0],[10,13,19,0,"useAuthStore"],[10,25,19,0],[11,4,19,0],[12,2,19,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,3,0],[14,6,3,0,"_libSupabaseClient"],[14,24,3,0],[14,27,3,0,"require"],[14,34,3,0],[14,35,3,0,"_dependencyMap"],[14,49,3,0],[15,2,4,0],[15,6,4,0,"_libSeedDemo"],[15,18,4,0],[15,21,4,0,"require"],[15,28,4,0],[15,29,4,0,"_dependencyMap"],[15,43,4,0],[16,2,19,7],[16,8,19,13,"useAuthStore"],[16,20,19,25],[16,23,19,28],[16,27,19,28,"create"],[16,35,19,34],[16,36,19,34,"create"],[16,42,19,34],[16,44,19,46],[16,45,19,47,"set"],[16,48,19,50],[16,50,19,52,"get"],[16,53,19,55],[16,59,19,61],[17,4,20,2,"user"],[17,8,20,6],[17,10,20,8],[17,14,20,12],[18,4,21,2,"session"],[18,11,21,9],[18,13,21,11],[18,17,21,15],[19,4,22,2,"isLoading"],[19,13,22,11],[19,15,22,13],[19,20,22,18],[20,4,23,2,"error"],[20,9,23,7],[20,11,23,9],[20,15,23,13],[21,4,25,2,"setUser"],[21,11,25,9],[21,13,25,12,"user"],[21,17,25,16],[21,21,25,21,"set"],[21,24,25,24],[21,25,25,25],[22,6,25,27,"user"],[23,4,25,32],[23,5,25,33],[23,6,25,34],[24,4,26,2,"setSession"],[24,14,26,12],[24,16,26,15,"session"],[24,23,26,22],[24,27,26,27,"set"],[24,30,26,30],[24,31,26,31],[25,6,26,33,"session"],[25,13,26,40],[26,6,26,42,"user"],[26,10,26,46],[26,12,26,48,"session"],[26,19,26,55],[26,21,26,57,"user"],[26,25,26,61],[26,29,26,65],[27,4,26,70],[27,5,26,71],[27,6,26,72],[28,4,27,2,"setError"],[28,12,27,10],[28,14,27,13,"error"],[28,19,27,18],[28,23,27,23,"set"],[28,26,27,26],[28,27,27,27],[29,6,27,29,"error"],[30,4,27,35],[30,5,27,36],[30,6,27,37],[31,4,29,2,"demoLogin"],[31,13,29,11],[31,15,29,13],[31,21,29,13,"demoLogin"],[31,22,29,13],[31,27,29,25],[32,6,30,4,"set"],[32,9,30,7],[32,10,30,8],[33,8,30,10,"isLoading"],[33,17,30,19],[33,19,30,21],[33,23,30,25],[34,8,30,27,"error"],[34,13,30,32],[34,15,30,34],[35,6,30,39],[35,7,30,40],[35,8,30,41],[36,6,32,4],[36,12,32,10,"supabase"],[36,20,32,18],[36,23,32,21],[36,27,32,21,"getSupabase"],[36,45,32,32],[36,46,32,32,"getSupabase"],[36,57,32,32],[36,59,32,33],[36,60,32,34],[37,6,33,4],[37,10,33,8],[37,11,33,9,"supabase"],[37,19,33,17],[37,21,33,19],[38,8,34,6,"set"],[38,11,34,9],[38,12,34,10],[39,10,34,12,"isLoading"],[39,19,34,21],[39,21,34,23],[39,26,34,28],[40,10,34,30,"error"],[40,15,34,35],[40,17,34,37],[41,8,34,63],[41,9,34,64],[41,10,34,65],[42,8,35,6],[42,15,35,13],[42,20,35,18],[43,6,36,4],[44,6,38,4],[44,12,38,10,"config"],[44,18,38,16],[44,21,38,19],[44,25,38,19,"getSupabaseConfig"],[44,43,38,36],[44,44,38,36,"getSupabaseConfig"],[44,61,38,36],[44,63,38,37],[44,64,38,38],[45,6,39,4],[45,10,39,8],[45,11,39,9,"config"],[45,17,39,15],[45,18,39,16,"hasDemoCredentials"],[45,36,39,34],[45,38,39,36],[46,8,40,6,"set"],[46,11,40,9],[46,12,40,10],[47,10,40,12,"isLoading"],[47,19,40,21],[47,21,40,23],[47,26,40,28],[48,10,40,30,"error"],[48,15,40,35],[48,17,40,37],[49,8,40,137],[49,9,40,138],[49,10,40,139],[50,8,41,6],[50,15,41,13],[50,20,41,18],[51,6,42,4],[52,6,44,4],[52,10,44,8],[53,8,45,6,"console"],[53,15,45,13],[53,16,45,14,"log"],[53,19,45,17],[53,20,45,18],[53,70,45,68],[53,72,45,70,"config"],[53,78,45,76],[53,79,45,77,"demoEmail"],[53,88,45,86],[53,89,45,87],[54,8,47,6],[54,14,47,12],[55,10,47,14,"data"],[55,14,47,18],[56,10,47,20,"error"],[57,8,47,26],[57,9,47,27],[57,12,47,30],[57,18,47,36,"supabase"],[57,26,47,44],[57,27,47,45,"auth"],[57,31,47,49],[57,32,47,50,"signInWithPassword"],[57,50,47,68],[57,51,47,69],[58,10,48,8,"email"],[58,15,48,13],[58,17,48,15,"config"],[58,23,48,21],[58,24,48,22,"demoEmail"],[58,33,48,31],[59,10,49,8,"password"],[59,18,49,16],[59,20,49,18,"config"],[59,26,49,24],[59,27,49,25,"demoPassword"],[60,8,50,6],[60,9,50,7],[60,10,50,8],[61,8,52,6],[61,12,52,10,"error"],[61,17,52,15],[61,19,52,17],[62,10,53,8],[63,10,54,8,"console"],[63,17,54,15],[63,18,54,16,"log"],[63,21,54,19],[63,22,54,20],[63,56,54,54],[63,57,54,55],[64,10,55,8,"console"],[64,17,55,15],[64,18,55,16,"log"],[64,21,55,19],[64,22,55,20],[64,38,55,36],[64,40,55,38,"error"],[64,45,55,43],[64,46,55,44,"code"],[64,50,55,48],[64,51,55,49],[65,10,56,8,"console"],[65,17,56,15],[65,18,56,16,"log"],[65,21,56,19],[65,22,56,20],[65,38,56,36],[65,40,56,38,"error"],[65,45,56,43],[65,46,56,44,"name"],[65,50,56,48],[65,51,56,49],[66,10,57,8,"console"],[66,17,57,15],[66,18,57,16,"log"],[66,21,57,19],[66,22,57,20],[66,41,57,39],[66,43,57,41,"error"],[66,48,57,46],[66,49,57,47,"message"],[66,56,57,54],[66,57,57,55],[67,10,58,8,"console"],[67,17,58,15],[67,18,58,16,"log"],[67,21,58,19],[67,22,58,20],[67,40,58,38],[67,42,58,40,"error"],[67,47,58,45],[67,48,58,46,"status"],[67,54,58,52],[67,55,58,53],[68,10,60,8],[68,16,60,14,"errorMsg"],[68,24,60,22],[68,27,60,25],[68,31,60,29,"error"],[68,36,60,34],[68,37,60,35,"code"],[68,41,60,39],[68,45,60,43,"error"],[68,50,60,48],[68,51,60,49,"name"],[68,55,60,53],[68,59,60,57],[68,66,60,64],[68,71,60,69,"error"],[68,76,60,74],[68,77,60,75,"message"],[68,84,60,82],[68,86,60,84],[69,10,61,8,"set"],[69,13,61,11],[69,14,61,12],[70,12,61,14,"isLoading"],[70,21,61,23],[70,23,61,25],[70,28,61,30],[71,12,61,32,"error"],[71,17,61,37],[71,19,61,39,"errorMsg"],[72,10,61,48],[72,11,61,49],[72,12,61,50],[73,10,62,8],[73,17,62,15],[73,22,62,20],[74,8,63,6],[75,8,65,6,"console"],[75,15,65,13],[75,16,65,14,"log"],[75,19,65,17],[75,20,65,18],[75,62,65,60],[75,64,65,62,"data"],[75,68,65,66],[75,69,65,67,"user"],[75,73,65,71],[75,75,65,73,"email"],[75,80,65,78],[75,81,65,79],[76,8,67,6],[76,12,67,10,"data"],[76,16,67,14],[76,17,67,15,"user"],[76,21,67,19],[76,23,67,21],[77,10,68,8],[78,10,69,8],[78,16,69,14],[78,20,69,14,"seedDemoData"],[78,32,69,26],[78,33,69,26,"seedDemoData"],[78,45,69,26],[78,47,69,27,"data"],[78,51,69,31],[78,52,69,32,"user"],[78,56,69,36],[78,57,69,37,"id"],[78,59,69,39],[78,60,69,40],[79,10,70,8,"set"],[79,13,70,11],[79,14,70,12],[80,12,70,14,"user"],[80,16,70,18],[80,18,70,20,"data"],[80,22,70,24],[80,23,70,25,"user"],[80,27,70,29],[81,12,70,31,"session"],[81,19,70,38],[81,21,70,40,"data"],[81,25,70,44],[81,26,70,45,"session"],[81,33,70,52],[82,12,70,54,"isLoading"],[82,21,70,63],[82,23,70,65],[83,10,70,71],[83,11,70,72],[83,12,70,73],[84,10,71,8],[84,17,71,15],[84,21,71,19],[85,8,72,6],[86,8,74,6,"set"],[86,11,74,9],[86,12,74,10],[87,10,74,12,"isLoading"],[87,19,74,21],[87,21,74,23],[87,26,74,28],[88,10,74,30,"error"],[88,15,74,35],[88,17,74,37],[89,8,74,67],[89,9,74,68],[89,10,74,69],[90,8,75,6],[90,15,75,13],[90,20,75,18],[91,6,76,4],[91,7,76,5],[91,8,76,6],[91,15,76,13,"err"],[91,18,76,21],[91,20,76,23],[92,8,77,6,"console"],[92,15,77,13],[92,16,77,14,"log"],[92,19,77,17],[92,20,77,18],[92,58,77,56],[92,60,77,58,"err"],[92,63,77,61],[92,64,77,62],[93,8,78,6,"set"],[93,11,78,9],[93,12,78,10],[94,10,78,12,"isLoading"],[94,19,78,21],[94,21,78,23],[94,26,78,28],[95,10,78,30,"error"],[95,15,78,35],[95,17,78,37],[95,38,78,58,"err"],[95,41,78,61],[95,42,78,62,"message"],[95,49,78,69],[96,8,78,72],[96,9,78,73],[96,10,78,74],[97,8,79,6],[97,15,79,13],[97,20,79,18],[98,6,80,4],[99,4,81,2],[99,5,81,3],[100,4,83,2,"signOut"],[100,11,83,9],[100,13,83,11],[100,19,83,11,"signOut"],[100,20,83,11],[100,25,83,23],[101,6,84,4],[101,12,84,10,"supabase"],[101,20,84,18],[101,23,84,21],[101,27,84,21,"getSupabase"],[101,45,84,32],[101,46,84,32,"getSupabase"],[101,57,84,32],[101,59,84,33],[101,60,84,34],[102,6,85,4],[102,10,85,8,"supabase"],[102,18,85,16],[102,20,85,18],[103,8,86,6],[103,14,86,12,"supabase"],[103,22,86,20],[103,23,86,21,"auth"],[103,27,86,25],[103,28,86,26,"signOut"],[103,35,86,33],[103,36,86,34],[103,37,86,35],[104,6,87,4],[105,6,88,4,"set"],[105,9,88,7],[105,10,88,8],[106,8,88,10,"user"],[106,12,88,14],[106,14,88,16],[106,18,88,20],[107,8,88,22,"session"],[107,15,88,29],[107,17,88,31],[108,6,88,36],[108,7,88,37],[108,8,88,38],[109,4,89,2],[109,5,89,3],[110,4,91,2,"checkSession"],[110,16,91,14],[110,18,91,16],[110,24,91,16,"checkSession"],[110,25,91,16],[110,30,91,28],[111,6,92,4],[111,12,92,10,"supabase"],[111,20,92,18],[111,23,92,21],[111,27,92,21,"getSupabase"],[111,45,92,32],[111,46,92,32,"getSupabase"],[111,57,92,32],[111,59,92,33],[111,60,92,34],[112,6,93,4],[112,10,93,8],[112,11,93,9,"supabase"],[112,19,93,17],[112,21,93,19],[113,6,95,4],[113,10,95,8],[114,8,96,6],[114,14,96,12],[115,10,96,14,"data"],[115,14,96,18],[115,16,96,20],[116,12,96,22,"session"],[117,10,96,30],[118,8,96,32],[118,9,96,33],[118,12,96,36],[118,18,96,42,"supabase"],[118,26,96,50],[118,27,96,51,"auth"],[118,31,96,55],[118,32,96,56,"getSession"],[118,42,96,66],[118,43,96,67],[118,44,96,68],[119,8,97,6],[119,12,97,10,"session"],[119,19,97,17],[119,21,97,19],[120,10,98,8,"set"],[120,13,98,11],[120,14,98,12],[121,12,98,14,"session"],[121,19,98,21],[122,12,98,23,"user"],[122,16,98,27],[122,18,98,29,"session"],[122,25,98,36],[122,26,98,37,"user"],[123,10,98,42],[123,11,98,43],[123,12,98,44],[124,8,99,6],[125,6,100,4],[125,7,100,5],[125,8,100,6],[125,15,100,13,"err"],[125,18,100,16],[125,20,100,18],[126,8,101,6,"console"],[126,15,101,13],[126,16,101,14,"log"],[126,19,101,17],[126,20,101,18],[126,45,101,43],[126,47,101,45,"err"],[126,50,101,48],[126,51,101,49],[127,6,102,4],[128,4,103,2],[129,2,104,0],[129,3,104,1],[129,4,104,2],[129,5,104,3],[130,0,104,4],[130,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setSession","setError","demoLogin","signOut","checkSession"],"mappings":"AAA;8CCkB;WCM,uBD;cEC,0DF;YGC,yBH;aIE;GJoD;WKE;GLM;gBME;GNY;EDC"},"hasCjsExports":false},"type":"js/module"}]}